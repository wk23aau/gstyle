# AI CV Maker Application

This project is a modern landing page for an AI-powered CV Maker. Users can input a job title or description to get a tailored CV outline generated by AI.

## Key Features

*   AI-powered CV outline generation via a backend service.
*   Responsive design with Tailwind CSS.
*   Interactive UI built with React.
*   Node.js/Express backend to handle API calls securely.

## Architecture Overview

The application now uses a **frontend-backend architecture**:

1.  **Frontend (React)**: The user interface built with React and Vite. It captures user input and sends it to the backend.
2.  **Backend (Node.js/Express)**: A Node.js server (`server/main.js`) that receives requests from the frontend, calls the Google Gemini API with the necessary API key, and returns the result to the frontend.

This approach is more secure as the API key is managed on the server-side and not exposed to the client browser.

## Running the Application

You need to run both the backend server and the frontend development server.

### 1. Backend Server Setup & Run

1.  **Navigate to the project root directory.**
2.  **Install backend dependencies:**
    ```bash
    npm install
    ```
    (This will install `express`, `@google/genai`, `dotenv` from `package.json` if you haven't already.)
3.  **Create an environment file:**
    Create a file named `.env` in the project root directory (next to `package.json` and `server/main.js`).
4.  **Add your API Key to `.env`:**
    Open the `.env` file and add your Google Gemini API key:
    ```
    API_KEY=YOUR_ACTUAL_GEMINI_API_KEY
    ```
    Replace `YOUR_ACTUAL_GEMINI_API_KEY` with your real key.
5.  **Start the backend server:**
    ```bash
    node server/main.js
    ```
    The backend server will typically start on `http://localhost:3001`. Check the console output for the exact port.

### 2. Frontend Setup & Run

1.  **Open a new terminal window/tab.**
2.  **Navigate to the project root directory.**
3.  **Install frontend dependencies (if not already done by the previous `npm install`):**
    If your `package.json` includes all dependencies (frontend and backend), the previous `npm install` should suffice. Otherwise, ensure frontend dependencies like `react`, `tailwindcss` etc., are installed.
4.  **Start the frontend development server (Vite):**
    ```bash
    npm run dev
    ```
    This will usually start the frontend on `http://localhost:5173` (or another port if 5173 is busy) and open it in your browser.

Once both are running, you can use the application in your browser. The frontend (running on `localhost:5173`) makes requests to `/api/...`. These requests are automatically proxied by the Vite development server to your backend server (running on `http://localhost:3001`) due to the proxy configuration in `vite.config.ts`.

### Vite Dev Server Proxy

During development, the frontend and backend servers run on different ports. To allow the frontend to make API calls to the backend without running into CORS (Cross-Origin Resource Sharing) issues, and to simplify API call URLs, a proxy is configured in `vite.config.ts`.

This configuration forwards any request from the frontend starting with `/api` to the backend server at `http://localhost:3001`. For example, a frontend call to `/api/cv/generate` will be transparently routed to `http://localhost:3001/api/cv/generate`.

## API Key Management

*   The **Google Gemini API Key (`API_KEY`) is CRUCIAL** and is managed **exclusively by the backend server.**
*   It **must** be set in an `.env` file in the project root, as described in the backend setup instructions.
*   The frontend no longer directly uses or requires the API key.

## Deprecated: Frontend-Only Direct API Call

Previously, this application supported a mode where the frontend called the Google Gemini API directly. This approach has been **removed** in favor of the more secure backend-driven architecture.
*   The `generateCVContentDirect` function in `services/geminiService.ts` has been removed.
*   `components/HeroSection.tsx` now exclusively uses `generateCVContent` which communicates with the backend.

This change enhances security by ensuring the API key is not exposed on the client-side.

## Update Instructions & Changelog

### Transition to Backend-Driven Architecture (Current Version)
*   **Implemented Backend Server (`server/main.js`):**
    *   Uncommented and activated the Express server.
    *   Server uses `@google/genai` to interact with the Gemini API.
    *   API key is loaded from `.env` file using `dotenv`.
*   **Updated Frontend (`services/geminiService.ts`, `components/HeroSection.tsx`):**
    *   Removed `generateCVContentDirect` and all direct frontend API call logic.
    *   Frontend now exclusively calls the `/api/cv/generate` endpoint on the backend server using `generateCVContent`.
*   **Updated `README.md`:**
    *   Reflects the new backend-driven architecture as the primary and only method.
    *   Provided separate setup and running instructions for backend and frontend.
    *   Clarified API key management (server-side via `.env` file).
    *   Marked the frontend-only direct API call approach as deprecated and removed.
*   **Dependencies:** Ensured `express`, `@google/genai`, `dotenv` are installed for the backend.

### Previous State: Default to Direct Frontend API Calls
*   Application defaulted to direct frontend calls to Gemini API (`generateCVContentDirect`).
*   Backend code in `server/main.js` was present but commented out.
*   README detailed how to switch between direct calls and a simulated backend.

### Further Back: Conceptual Codebase Split
*   `services/geminiService.ts` introduced both `generateCVContent` (for backend) and `generateCVContentDirect` (for frontend).
*   README explained the two approaches.

### Initial Setup
*   Basic frontend structure.
*   Simulated backend concepts were being introduced.
